/****************************************************************************
 *
 * Cass80 tool - Z80 token (mnemonics) and flags
 *
 * Copyright (C) 2020 Jürgen Buchmüller <pullmoll@t-online.de>
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 ****************************************************************************/
#include <QHash>
#include "z80token.h"

z80Token::z80Token(const z80Token& other)
    : m_mnemonic(other.m_mnemonic)
    , m_parameters(other.m_parameters)
    , m_flags(other.m_flags)
{
}

z80Token::z80Mnemonic z80Token::mnemonic() const
{
    return m_mnemonic;
}

const char* z80Token::parameters() const
{
    return m_parameters;
}

z80Token::z80Flags z80Token::flags() const
{
    return m_flags;
}

z80Token::z80Token(z80Token::z80Mnemonic m, const char* p, const z80Flags flags)
    : m_mnemonic(m)
    , m_parameters(p)
    , m_flags(flags)
{

}

z80Token& z80Token::operator=(const z80Token& other)
{
    m_mnemonic = other.m_mnemonic;
    m_parameters = other.m_parameters;
    m_flags = other.m_flags;
    return *this;
}

QLatin1String z80Token::string(z80Mnemonic m)
{
    static const QHash<z80Mnemonic,QLatin1String> lookup({
	{z80ADC,    QLatin1String("ADC")},
	{z80ADD,    QLatin1String("ADD")},
	{z80AND,    QLatin1String("AND")},
	{z80BIT,    QLatin1String("BIT")},
	{z80CALL,   QLatin1String("CALL")},
	{z80CCF,    QLatin1String("CCF")},
	{z80CP,	    QLatin1String("CP")},
	{z80CPD,    QLatin1String("CPD")},
	{z80CPDR,   QLatin1String("CPDR")},
	{z80CPI,    QLatin1String("CPI")},
	{z80CPIR,   QLatin1String("CPIR")},
	{z80CPL,    QLatin1String("CPL")},
	{z80DAA,    QLatin1String("DAA")},
	{z80DB,	    QLatin1String("DB")},
	{z80DEC,    QLatin1String("DEC")},
	{z80DEFB,   QLatin1String("DEFB")},
	{z80DEFW,   QLatin1String("DEFW")},
	{z80DEFD,   QLatin1String("DEFD")},
	{z80DEFM,   QLatin1String("DEFM")},
	{z80DEFS,   QLatin1String("DEFS")},
	{z80DI,	    QLatin1String("DI")},
	{z80DJNZ,   QLatin1String("DJNZ")},
	{z80EI,	    QLatin1String("EI")},
	{z80EX,	    QLatin1String("EX")},
	{z80EXX,    QLatin1String("EXX")},
	{z80HLT,    QLatin1String("HLT")},
	{z80IM,	    QLatin1String("IM")},
	{z80IN,	    QLatin1String("IN")},
	{z80INC,    QLatin1String("INC")},
	{z80IND,    QLatin1String("IND")},
	{z80INDR,   QLatin1String("INDR")},
	{z80INI,    QLatin1String("INI")},
	{z80INIR,   QLatin1String("INIR")},
	{z80JP,	    QLatin1String("JP")},
	{z80JR,	    QLatin1String("JR")},
	{z80LD,	    QLatin1String("LD")},
	{z80LDD,    QLatin1String("LDD")},
	{z80LDDR,   QLatin1String("LDDR")},
	{z80LDI,    QLatin1String("LDI")},
	{z80LDIR,   QLatin1String("LDIR")},
	{z80NEG,    QLatin1String("NEG")},
	{z80NOP,    QLatin1String("NOP")},
	{z80OR,	    QLatin1String("OR")},
	{z80OTDR,   QLatin1String("OTDR")},
	{z80OTIR,   QLatin1String("OTIR")},
	{z80OUT,    QLatin1String("OUT")},
	{z80OUTD,   QLatin1String("OUTD")},
	{z80OUTI,   QLatin1String("OUTI")},
	{z80POP,    QLatin1String("POP")},
	{z80PUSH,   QLatin1String("PUSH")},
	{z80RES,    QLatin1String("RES")},
	{z80RET,    QLatin1String("RET")},
	{z80RETI,   QLatin1String("RETI")},
	{z80RETN,   QLatin1String("RETN")},
	{z80RL,	    QLatin1String("RL")},
	{z80RLA,    QLatin1String("RLA")},
	{z80RLC,    QLatin1String("RLC")},
	{z80RLCA,   QLatin1String("RLCA")},
	{z80RLD,    QLatin1String("RLD")},
	{z80RR,	    QLatin1String("RR")},
	{z80RRA,    QLatin1String("RRA")},
	{z80RRC,    QLatin1String("RRC")},
	{z80RRCA,   QLatin1String("RRCA")},
	{z80RRD,    QLatin1String("RRD")},
	{z80RST,    QLatin1String("RST")},
	{z80SBC,    QLatin1String("SBC")},
	{z80SCF,    QLatin1String("SCF")},
	{z80SET,    QLatin1String("SET")},
	{z80SLA,    QLatin1String("SLA")},
	{z80SLL,    QLatin1String("SLL")},
	{z80SRA,    QLatin1String("SRA")},
	{z80SRL,    QLatin1String("SRL")},
	{z80SUB,    QLatin1String("SUB")},
	{z80XOR,    QLatin1String("XOR")}
	});
    return lookup.value(m);
}

z80Token z80Token::mnemonic_xx_cb(uchar op)
{
    static const QVector<z80Token> lookup({
	z80Token(z80RLC,"b=Y"),
	z80Token(z80RLC,"c=Y"),
	z80Token(z80RLC,"d=Y"),
	z80Token(z80RLC,"e=Y"),
	z80Token(z80RLC,"h=Y"),
	z80Token(z80RLC,"l=Y"),
	z80Token(z80RLC,"Y"),
	z80Token(z80RLC,"a=Y"),
	z80Token(z80RRC,"b=Y"),
	z80Token(z80RRC,"c=Y"),
	z80Token(z80RRC,"d=Y"),
	z80Token(z80RRC,"e=Y"),
	z80Token(z80RRC,"h=Y"),
	z80Token(z80RRC,"l=Y"),
	z80Token(z80RRC,"Y"),
	z80Token(z80RRC,"a=Y"),
	z80Token(z80RL,"b=Y"),
	z80Token(z80RL,"c=Y"),
	z80Token(z80RL,"d=Y"),
	z80Token(z80RL,"e=Y"),
	z80Token(z80RL,"h=Y"),
	z80Token(z80RL,"l=Y"),
	z80Token(z80RL,"Y"),
	z80Token(z80RL,"a=Y"),
	z80Token(z80RR,"b=Y"),
	z80Token(z80RR,"c=Y"),
	z80Token(z80RR,"d=Y"),
	z80Token(z80RR,"e=Y"),
	z80Token(z80RR,"h=Y"),
	z80Token(z80RR,"l=Y"),
	z80Token(z80RR,"Y"),
	z80Token(z80RR,"a=Y"),
	z80Token(z80SLA,"b=Y"),
	z80Token(z80SLA,"c=Y"),
	z80Token(z80SLA,"d=Y"),
	z80Token(z80SLA,"e=Y"),
	z80Token(z80SLA,"h=Y"),
	z80Token(z80SLA,"l=Y"),
	z80Token(z80SLA,"Y"),
	z80Token(z80SLA,"a=Y"),
	z80Token(z80SRA,"b=Y"),
	z80Token(z80SRA,"c=Y"),
	z80Token(z80SRA,"d=Y"),
	z80Token(z80SRA,"e=Y"),
	z80Token(z80SRA,"h=Y"),
	z80Token(z80SRA,"l=Y"),
	z80Token(z80SRA,"Y"),
	z80Token(z80SRA,"a=Y"),
	z80Token(z80SLL,"b=Y"),
	z80Token(z80SLL,"c=Y"),
	z80Token(z80SLL,"d=Y"),
	z80Token(z80SLL,"e=Y"),
	z80Token(z80SLL,"h=Y"),
	z80Token(z80SLL,"l=Y"),
	z80Token(z80SLL,"Y"),
	z80Token(z80SLL,"a=Y"),
	z80Token(z80SRL,"b=Y"),
	z80Token(z80SRL,"c=Y"),
	z80Token(z80SRL,"d=Y"),
	z80Token(z80SRL,"e=Y"),
	z80Token(z80SRL,"h=Y"),
	z80Token(z80SRL,"l=Y"),
	z80Token(z80SRL,"Y"),
	z80Token(z80SRL,"a=Y"),
	z80Token(z80BIT,"0,Y"),
	z80Token(z80BIT,"0,Y"),
	z80Token(z80BIT,"0,Y"),
	z80Token(z80BIT,"0,Y"),
	z80Token(z80BIT,"0,Y"),
	z80Token(z80BIT,"0,Y"),
	z80Token(z80BIT,"0,Y"),
	z80Token(z80BIT,"0,Y"),
	z80Token(z80BIT,"1,Y"),
	z80Token(z80BIT,"1,Y"),
	z80Token(z80BIT,"1,Y"),
	z80Token(z80BIT,"1,Y"),
	z80Token(z80BIT,"1,Y"),
	z80Token(z80BIT,"1,Y"),
	z80Token(z80BIT,"1,Y"),
	z80Token(z80BIT,"1,Y"),
	z80Token(z80BIT,"2,Y"),
	z80Token(z80BIT,"2,Y"),
	z80Token(z80BIT,"2,Y"),
	z80Token(z80BIT,"2,Y"),
	z80Token(z80BIT,"2,Y"),
	z80Token(z80BIT,"2,Y"),
	z80Token(z80BIT,"2,Y"),
	z80Token(z80BIT,"2,Y"),
	z80Token(z80BIT,"3,Y"),
	z80Token(z80BIT,"3,Y"),
	z80Token(z80BIT,"3,Y"),
	z80Token(z80BIT,"3,Y"),
	z80Token(z80BIT,"3,Y"),
	z80Token(z80BIT,"3,Y"),
	z80Token(z80BIT,"3,Y"),
	z80Token(z80BIT,"3,Y"),
	z80Token(z80BIT,"4,Y"),
	z80Token(z80BIT,"4,Y"),
	z80Token(z80BIT,"4,Y"),
	z80Token(z80BIT,"4,Y"),
	z80Token(z80BIT,"4,Y"),
	z80Token(z80BIT,"4,Y"),
	z80Token(z80BIT,"4,Y"),
	z80Token(z80BIT,"4,Y"),
	z80Token(z80BIT,"5,Y"),
	z80Token(z80BIT,"5,Y"),
	z80Token(z80BIT,"5,Y"),
	z80Token(z80BIT,"5,Y"),
	z80Token(z80BIT,"5,Y"),
	z80Token(z80BIT,"5,Y"),
	z80Token(z80BIT,"5,Y"),
	z80Token(z80BIT,"5,Y"),
	z80Token(z80BIT,"6,Y"),
	z80Token(z80BIT,"6,Y"),
	z80Token(z80BIT,"6,Y"),
	z80Token(z80BIT,"6,Y"),
	z80Token(z80BIT,"6,Y"),
	z80Token(z80BIT,"6,Y"),
	z80Token(z80BIT,"6,Y"),
	z80Token(z80BIT,"6,Y"),
	z80Token(z80BIT,"7,Y"),
	z80Token(z80BIT,"7,Y"),
	z80Token(z80BIT,"7,Y"),
	z80Token(z80BIT,"7,Y"),
	z80Token(z80BIT,"7,Y"),
	z80Token(z80BIT,"7,Y"),
	z80Token(z80BIT,"7,Y"),
	z80Token(z80BIT,"7,Y"),
	z80Token(z80RES,"b=0,Y"),
	z80Token(z80RES,"c=0,Y"),
	z80Token(z80RES,"d=0,Y"),
	z80Token(z80RES,"e=0,Y"),
	z80Token(z80RES,"h=0,Y"),
	z80Token(z80RES,"l=0,Y"),
	z80Token(z80RES,"0,Y"),
	z80Token(z80RES,"a=0,Y"),
	z80Token(z80RES,"b=1,Y"),
	z80Token(z80RES,"c=1,Y"),
	z80Token(z80RES,"d=1,Y"),
	z80Token(z80RES,"e=1,Y"),
	z80Token(z80RES,"h=1,Y"),
	z80Token(z80RES,"l=1,Y"),
	z80Token(z80RES,"1,Y"),
	z80Token(z80RES,"a=1,Y"),
	z80Token(z80RES,"b=2,Y"),
	z80Token(z80RES,"c=2,Y"),
	z80Token(z80RES,"d=2,Y"),
	z80Token(z80RES,"e=2,Y"),
	z80Token(z80RES,"h=2,Y"),
	z80Token(z80RES,"l=2,Y"),
	z80Token(z80RES,"2,Y"),
	z80Token(z80RES,"a=2,Y"),
	z80Token(z80RES,"b=3,Y"),
	z80Token(z80RES,"c=3,Y"),
	z80Token(z80RES,"d=3,Y"),
	z80Token(z80RES,"e=3,Y"),
	z80Token(z80RES,"h=3,Y"),
	z80Token(z80RES,"l=3,Y"),
	z80Token(z80RES,"3,Y"),
	z80Token(z80RES,"a=3,Y"),
	z80Token(z80RES,"b=4,Y"),
	z80Token(z80RES,"c=4,Y"),
	z80Token(z80RES,"d=4,Y"),
	z80Token(z80RES,"e=4,Y"),
	z80Token(z80RES,"h=4,Y"),
	z80Token(z80RES,"l=4,Y"),
	z80Token(z80RES,"4,Y"),
	z80Token(z80RES,"a=4,Y"),
	z80Token(z80RES,"b=5,Y"),
	z80Token(z80RES,"c=5,Y"),
	z80Token(z80RES,"d=5,Y"),
	z80Token(z80RES,"e=5,Y"),
	z80Token(z80RES,"h=5,Y"),
	z80Token(z80RES,"l=5,Y"),
	z80Token(z80RES,"5,Y"),
	z80Token(z80RES,"a=5,Y"),
	z80Token(z80RES,"b=6,Y"),
	z80Token(z80RES,"c=6,Y"),
	z80Token(z80RES,"d=6,Y"),
	z80Token(z80RES,"e=6,Y"),
	z80Token(z80RES,"h=6,Y"),
	z80Token(z80RES,"l=6,Y"),
	z80Token(z80RES,"6,Y"),
	z80Token(z80RES,"a=6,Y"),
	z80Token(z80RES,"b=7,Y"),
	z80Token(z80RES,"c=7,Y"),
	z80Token(z80RES,"d=7,Y"),
	z80Token(z80RES,"e=7,Y"),
	z80Token(z80RES,"h=7,Y"),
	z80Token(z80RES,"l=7,Y"),
	z80Token(z80RES,"7,Y"),
	z80Token(z80RES,"a=7,Y"),
	z80Token(z80SET,"b=0,Y"),
	z80Token(z80SET,"c=0,Y"),
	z80Token(z80SET,"d=0,Y"),
	z80Token(z80SET,"e=0,Y"),
	z80Token(z80SET,"h=0,Y"),
	z80Token(z80SET,"l=0,Y"),
	z80Token(z80SET,"0,Y"),
	z80Token(z80SET,"a=0,Y"),
	z80Token(z80SET,"b=1,Y"),
	z80Token(z80SET,"c=1,Y"),
	z80Token(z80SET,"d=1,Y"),
	z80Token(z80SET,"e=1,Y"),
	z80Token(z80SET,"h=1,Y"),
	z80Token(z80SET,"l=1,Y"),
	z80Token(z80SET,"1,Y"),
	z80Token(z80SET,"a=1,Y"),
	z80Token(z80SET,"b=2,Y"),
	z80Token(z80SET,"c=2,Y"),
	z80Token(z80SET,"d=2,Y"),
	z80Token(z80SET,"e=2,Y"),
	z80Token(z80SET,"h=2,Y"),
	z80Token(z80SET,"l=2,Y"),
	z80Token(z80SET,"2,Y"),
	z80Token(z80SET,"a=2,Y"),
	z80Token(z80SET,"b=3,Y"),
	z80Token(z80SET,"c=3,Y"),
	z80Token(z80SET,"d=3,Y"),
	z80Token(z80SET,"e=3,Y"),
	z80Token(z80SET,"h=3,Y"),
	z80Token(z80SET,"l=3,Y"),
	z80Token(z80SET,"3,Y"),
	z80Token(z80SET,"a=3,Y"),
	z80Token(z80SET,"b=4,Y"),
	z80Token(z80SET,"c=4,Y"),
	z80Token(z80SET,"d=4,Y"),
	z80Token(z80SET,"e=4,Y"),
	z80Token(z80SET,"h=4,Y"),
	z80Token(z80SET,"l=4,Y"),
	z80Token(z80SET,"4,Y"),
	z80Token(z80SET,"a=4,Y"),
	z80Token(z80SET,"b=5,Y"),
	z80Token(z80SET,"c=5,Y"),
	z80Token(z80SET,"d=5,Y"),
	z80Token(z80SET,"e=5,Y"),
	z80Token(z80SET,"h=5,Y"),
	z80Token(z80SET,"l=5,Y"),
	z80Token(z80SET,"5,Y"),
	z80Token(z80SET,"a=5,Y"),
	z80Token(z80SET,"b=6,Y"),
	z80Token(z80SET,"c=6,Y"),
	z80Token(z80SET,"d=6,Y"),
	z80Token(z80SET,"e=6,Y"),
	z80Token(z80SET,"h=6,Y"),
	z80Token(z80SET,"l=6,Y"),
	z80Token(z80SET,"6,Y"),
	z80Token(z80SET,"a=6,Y"),
	z80Token(z80SET,"b=7,Y"),
	z80Token(z80SET,"c=7,Y"),
	z80Token(z80SET,"d=7,Y"),
	z80Token(z80SET,"e=7,Y"),
	z80Token(z80SET,"h=7,Y"),
	z80Token(z80SET,"l=7,Y"),
	z80Token(z80SET,"7,Y"),
	z80Token(z80SET,"a=7,Y")
    });
    return lookup.value(op);
}

z80Token z80Token::mnemonic_cb(uchar op)
{
    static const QVector<z80Token> lookup({
	z80Token(z80RLC,"b"),
	z80Token(z80RLC,"c"),
	z80Token(z80RLC,"d"),
	z80Token(z80RLC,"e"),
	z80Token(z80RLC,"h"),
	z80Token(z80RLC,"l"),
	z80Token(z80RLC,"(hl)"),
	z80Token(z80RLC,"a"),
	z80Token(z80RRC,"b"),
	z80Token(z80RRC,"c"),
	z80Token(z80RRC,"d"),
	z80Token(z80RRC,"e"),
	z80Token(z80RRC,"h"),
	z80Token(z80RRC,"l"),
	z80Token(z80RRC,"(hl)"),
	z80Token(z80RRC,"a"),
	z80Token(z80RL,"b"),
	z80Token(z80RL,"c"),
	z80Token(z80RL,"d"),
	z80Token(z80RL,"e"),
	z80Token(z80RL,"h"),
	z80Token(z80RL,"l"),
	z80Token(z80RL,"(hl)"),
	z80Token(z80RL,"a"),
	z80Token(z80RR,"b"),
	z80Token(z80RR,"c"),
	z80Token(z80RR,"d"),
	z80Token(z80RR,"e"),
	z80Token(z80RR,"h"),
	z80Token(z80RR,"l"),
	z80Token(z80RR,"(hl)"),
	z80Token(z80RR,"a"),
	z80Token(z80SLA,"b"),
	z80Token(z80SLA,"c"),
	z80Token(z80SLA,"d"),
	z80Token(z80SLA,"e"),
	z80Token(z80SLA,"h"),
	z80Token(z80SLA,"l"),
	z80Token(z80SLA,"(hl)"),
	z80Token(z80SLA,"a"),
	z80Token(z80SRA,"b"),
	z80Token(z80SRA,"c"),
	z80Token(z80SRA,"d"),
	z80Token(z80SRA,"e"),
	z80Token(z80SRA,"h"),
	z80Token(z80SRA,"l"),
	z80Token(z80SRA,"(hl)"),
	z80Token(z80SRA,"a"),
	z80Token(z80SLL,"b"),
	z80Token(z80SLL,"c"),
	z80Token(z80SLL,"d"),
	z80Token(z80SLL,"e"),
	z80Token(z80SLL,"h"),
	z80Token(z80SLL,"l"),
	z80Token(z80SLL,"(hl)"),
	z80Token(z80SLL,"a"),
	z80Token(z80SRL,"b"),
	z80Token(z80SRL,"c"),
	z80Token(z80SRL,"d"),
	z80Token(z80SRL,"e"),
	z80Token(z80SRL,"h"),
	z80Token(z80SRL,"l"),
	z80Token(z80SRL,"(hl)"),
	z80Token(z80SRL,"a"),
	z80Token(z80BIT,"0,b"),
	z80Token(z80BIT,"0,c"),
	z80Token(z80BIT,"0,d"),
	z80Token(z80BIT,"0,e"),
	z80Token(z80BIT,"0,h"),
	z80Token(z80BIT,"0,l"),
	z80Token(z80BIT,"0,(hl)"),
	z80Token(z80BIT,"0,a"),
	z80Token(z80BIT,"1,b"),
	z80Token(z80BIT,"1,c"),
	z80Token(z80BIT,"1,d"),
	z80Token(z80BIT,"1,e"),
	z80Token(z80BIT,"1,h"),
	z80Token(z80BIT,"1,l"),
	z80Token(z80BIT,"1,(hl)"),
	z80Token(z80BIT,"1,a"),
	z80Token(z80BIT,"2,b"),
	z80Token(z80BIT,"2,c"),
	z80Token(z80BIT,"2,d"),
	z80Token(z80BIT,"2,e"),
	z80Token(z80BIT,"2,h"),
	z80Token(z80BIT,"2,l"),
	z80Token(z80BIT,"2,(hl)"),
	z80Token(z80BIT,"2,a"),
	z80Token(z80BIT,"3,b"),
	z80Token(z80BIT,"3,c"),
	z80Token(z80BIT,"3,d"),
	z80Token(z80BIT,"3,e"),
	z80Token(z80BIT,"3,h"),
	z80Token(z80BIT,"3,l"),
	z80Token(z80BIT,"3,(hl)"),
	z80Token(z80BIT,"3,a"),
	z80Token(z80BIT,"4,b"),
	z80Token(z80BIT,"4,c"),
	z80Token(z80BIT,"4,d"),
	z80Token(z80BIT,"4,e"),
	z80Token(z80BIT,"4,h"),
	z80Token(z80BIT,"4,l"),
	z80Token(z80BIT,"4,(hl)"),
	z80Token(z80BIT,"4,a"),
	z80Token(z80BIT,"5,b"),
	z80Token(z80BIT,"5,c"),
	z80Token(z80BIT,"5,d"),
	z80Token(z80BIT,"5,e"),
	z80Token(z80BIT,"5,h"),
	z80Token(z80BIT,"5,l"),
	z80Token(z80BIT,"5,(hl)"),
	z80Token(z80BIT,"5,a"),
	z80Token(z80BIT,"6,b"),
	z80Token(z80BIT,"6,c"),
	z80Token(z80BIT,"6,d"),
	z80Token(z80BIT,"6,e"),
	z80Token(z80BIT,"6,h"),
	z80Token(z80BIT,"6,l"),
	z80Token(z80BIT,"6,(hl)"),
	z80Token(z80BIT,"6,a"),
	z80Token(z80BIT,"7,b"),
	z80Token(z80BIT,"7,c"),
	z80Token(z80BIT,"7,d"),
	z80Token(z80BIT,"7,e"),
	z80Token(z80BIT,"7,h"),
	z80Token(z80BIT,"7,l"),
	z80Token(z80BIT,"7,(hl)"),
	z80Token(z80BIT,"7,a"),
	z80Token(z80RES,"0,b"),
	z80Token(z80RES,"0,c"),
	z80Token(z80RES,"0,d"),
	z80Token(z80RES,"0,e"),
	z80Token(z80RES,"0,h"),
	z80Token(z80RES,"0,l"),
	z80Token(z80RES,"0,(hl)"),
	z80Token(z80RES,"0,a"),
	z80Token(z80RES,"1,b"),
	z80Token(z80RES,"1,c"),
	z80Token(z80RES,"1,d"),
	z80Token(z80RES,"1,e"),
	z80Token(z80RES,"1,h"),
	z80Token(z80RES,"1,l"),
	z80Token(z80RES,"1,(hl)"),
	z80Token(z80RES,"1,a"),
	z80Token(z80RES,"2,b"),
	z80Token(z80RES,"2,c"),
	z80Token(z80RES,"2,d"),
	z80Token(z80RES,"2,e"),
	z80Token(z80RES,"2,h"),
	z80Token(z80RES,"2,l"),
	z80Token(z80RES,"2,(hl)"),
	z80Token(z80RES,"2,a"),
	z80Token(z80RES,"3,b"),
	z80Token(z80RES,"3,c"),
	z80Token(z80RES,"3,d"),
	z80Token(z80RES,"3,e"),
	z80Token(z80RES,"3,h"),
	z80Token(z80RES,"3,l"),
	z80Token(z80RES,"3,(hl)"),
	z80Token(z80RES,"3,a"),
	z80Token(z80RES,"4,b"),
	z80Token(z80RES,"4,c"),
	z80Token(z80RES,"4,d"),
	z80Token(z80RES,"4,e"),
	z80Token(z80RES,"4,h"),
	z80Token(z80RES,"4,l"),
	z80Token(z80RES,"4,(hl)"),
	z80Token(z80RES,"4,a"),
	z80Token(z80RES,"5,b"),
	z80Token(z80RES,"5,c"),
	z80Token(z80RES,"5,d"),
	z80Token(z80RES,"5,e"),
	z80Token(z80RES,"5,h"),
	z80Token(z80RES,"5,l"),
	z80Token(z80RES,"5,(hl)"),
	z80Token(z80RES,"5,a"),
	z80Token(z80RES,"6,b"),
	z80Token(z80RES,"6,c"),
	z80Token(z80RES,"6,d"),
	z80Token(z80RES,"6,e"),
	z80Token(z80RES,"6,h"),
	z80Token(z80RES,"6,l"),
	z80Token(z80RES,"6,(hl)"),
	z80Token(z80RES,"6,a"),
	z80Token(z80RES,"7,b"),
	z80Token(z80RES,"7,c"),
	z80Token(z80RES,"7,d"),
	z80Token(z80RES,"7,e"),
	z80Token(z80RES,"7,h"),
	z80Token(z80RES,"7,l"),
	z80Token(z80RES,"7,(hl)"),
	z80Token(z80RES,"7,a"),
	z80Token(z80SET,"0,b"),
	z80Token(z80SET,"0,c"),
	z80Token(z80SET,"0,d"),
	z80Token(z80SET,"0,e"),
	z80Token(z80SET,"0,h"),
	z80Token(z80SET,"0,l"),
	z80Token(z80SET,"0,(hl)"),
	z80Token(z80SET,"0,a"),
	z80Token(z80SET,"1,b"),
	z80Token(z80SET,"1,c"),
	z80Token(z80SET,"1,d"),
	z80Token(z80SET,"1,e"),
	z80Token(z80SET,"1,h"),
	z80Token(z80SET,"1,l"),
	z80Token(z80SET,"1,(hl)"),
	z80Token(z80SET,"1,a"),
	z80Token(z80SET,"2,b"),
	z80Token(z80SET,"2,c"),
	z80Token(z80SET,"2,d"),
	z80Token(z80SET,"2,e"),
	z80Token(z80SET,"2,h"),
	z80Token(z80SET,"2,l"),
	z80Token(z80SET,"2,(hl)"),
	z80Token(z80SET,"2,a"),
	z80Token(z80SET,"3,b"),
	z80Token(z80SET,"3,c"),
	z80Token(z80SET,"3,d"),
	z80Token(z80SET,"3,e"),
	z80Token(z80SET,"3,h"),
	z80Token(z80SET,"3,l"),
	z80Token(z80SET,"3,(hl)"),
	z80Token(z80SET,"3,a"),
	z80Token(z80SET,"4,b"),
	z80Token(z80SET,"4,c"),
	z80Token(z80SET,"4,d"),
	z80Token(z80SET,"4,e"),
	z80Token(z80SET,"4,h"),
	z80Token(z80SET,"4,l"),
	z80Token(z80SET,"4,(hl)"),
	z80Token(z80SET,"4,a"),
	z80Token(z80SET,"5,b"),
	z80Token(z80SET,"5,c"),
	z80Token(z80SET,"5,d"),
	z80Token(z80SET,"5,e"),
	z80Token(z80SET,"5,h"),
	z80Token(z80SET,"5,l"),
	z80Token(z80SET,"5,(hl)"),
	z80Token(z80SET,"5,a"),
	z80Token(z80SET,"6,b"),
	z80Token(z80SET,"6,c"),
	z80Token(z80SET,"6,d"),
	z80Token(z80SET,"6,e"),
	z80Token(z80SET,"6,h"),
	z80Token(z80SET,"6,l"),
	z80Token(z80SET,"6,(hl)"),
	z80Token(z80SET,"6,a"),
	z80Token(z80SET,"7,b"),
	z80Token(z80SET,"7,c"),
	z80Token(z80SET,"7,d"),
	z80Token(z80SET,"7,e"),
	z80Token(z80SET,"7,h"),
	z80Token(z80SET,"7,l"),
	z80Token(z80SET,"7,(hl)"),
	z80Token(z80SET,"7,a")
    });

    return lookup.value(op);
}

z80Token z80Token::mnemonic_ed(uchar op)
{
    static const QVector<z80Token> lookup({
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80IN,"b,(c)"),
	z80Token(z80OUT,"(c),b"),
	z80Token(z80SBC,"hl,bc"),
	z80Token(z80LD,"(W),bc"),
	z80Token(z80NEG,NULL),
	z80Token(z80RETN,NULL,DASMFLAG_FINAL),
	z80Token(z80IM,"0"),
	z80Token(z80LD,"i,a"),
	z80Token(z80IN,"c,(c)"),
	z80Token(z80OUT,"(c),c"),
	z80Token(z80ADC,"hl,bc"),
	z80Token(z80LD,"bc,(W)"),
	z80Token(z80NEG,"*"),
	z80Token(z80RETI,NULL,DASMFLAG_FINAL),
	z80Token(z80IM,"0"),
	z80Token(z80LD,"r,a"),
	z80Token(z80IN,"d,(c)"),
	z80Token(z80OUT,"(c),d"),
	z80Token(z80SBC,"hl,de"),
	z80Token(z80LD,"(W),de"),
	z80Token(z80NEG,"*"),
	z80Token(z80RETN,"*",DASMFLAG_FINAL),
	z80Token(z80IM,"1"),
	z80Token(z80LD,"a,i"),
	z80Token(z80IN,"e,(c)"),
	z80Token(z80OUT,"(c),e"),
	z80Token(z80ADC,"hl,de"),
	z80Token(z80LD,"de,(W)"),
	z80Token(z80NEG,"*"),
	z80Token(z80RETI,"*",DASMFLAG_FINAL),
	z80Token(z80IM,"2"),
	z80Token(z80LD,"a,r"),
	z80Token(z80IN,"h,(c)"),
	z80Token(z80OUT,"(c),h"),
	z80Token(z80SBC,"hl,hl"),
	z80Token(z80LD,"(W),hl"),
	z80Token(z80NEG,"*"),
	z80Token(z80RETN,"*",DASMFLAG_FINAL),
	z80Token(z80IM,"0"),
	z80Token(z80RRD,"(hl)"),
	z80Token(z80IN,"l,(c)"),
	z80Token(z80OUT,"(c),l"),
	z80Token(z80ADC,"hl,hl"),
	z80Token(z80LD,"hl,(W)"),
	z80Token(z80NEG,"*"),
	z80Token(z80RETI,"*",DASMFLAG_FINAL),
	z80Token(z80IM,"0"),
	z80Token(z80RLD,"(hl)"),
	z80Token(z80IN,"0,(c)"),
	z80Token(z80OUT,"(c),0"),
	z80Token(z80SBC,"hl,sp"),
	z80Token(z80LD,"(W),sp"),
	z80Token(z80NEG,"*"),
	z80Token(z80RETN,"*",DASMFLAG_FINAL),
	z80Token(z80IM,"1"),
	z80Token(z80DB,"?"),
	z80Token(z80IN,"a,(c)"),
	z80Token(z80OUT,"(c),a"),
	z80Token(z80ADC,"hl,sp"),
	z80Token(z80LD,"sp,(W)"),
	z80Token(z80NEG,"*"),
	z80Token(z80RETI,"*"),
	z80Token(z80IM,"2"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80LDI,NULL),
	z80Token(z80CPI,NULL),
	z80Token(z80INI,NULL),
	z80Token(z80OUTI,NULL),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80LDD,NULL),
	z80Token(z80CPD,NULL),
	z80Token(z80IND,NULL),
	z80Token(z80OUTD,NULL),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80LDIR,NULL,DASMFLAG_SKIP),
	z80Token(z80CPIR,NULL,DASMFLAG_SKIP),
	z80Token(z80INIR,NULL,DASMFLAG_SKIP),
	z80Token(z80OTIR,NULL,DASMFLAG_SKIP),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80LDDR,NULL,DASMFLAG_SKIP),
	z80Token(z80CPDR,NULL,DASMFLAG_SKIP),
	z80Token(z80INDR,NULL,DASMFLAG_SKIP),
	z80Token(z80OTDR,NULL,DASMFLAG_SKIP),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?")
    });

    return lookup.value(op);
}

z80Token z80Token::mnemonic_xx(uchar op)
{
    static const QVector<z80Token> lookup({
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80ADD,"I,bc"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80ADD,"I,de"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80LD,"I,N"),
	z80Token(z80LD,"(W),I"),
	z80Token(z80INC,"I"),
	z80Token(z80INC,"Ih"),
	z80Token(z80DEC,"Ih"),
	z80Token(z80LD,"Ih,B"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80ADD,"I,I"),
	z80Token(z80LD,"I,(W)"),
	z80Token(z80DEC,"I"),
	z80Token(z80INC,"Il"),
	z80Token(z80DEC,"Il"),
	z80Token(z80LD,"Il,B"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80INC,"X"),
	z80Token(z80DEC,"X"),
	z80Token(z80LD,"X,B"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80ADD,"I,sp"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80LD,"b,Ih"),
	z80Token(z80LD,"b,Il"),
	z80Token(z80LD,"b,X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80LD,"c,Ih"),
	z80Token(z80LD,"c,Il"),
	z80Token(z80LD,"c,X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80LD,"d,Ih"),
	z80Token(z80LD,"d,Il"),
	z80Token(z80LD,"d,X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80LD,"e,Ih"),
	z80Token(z80LD,"e,Il"),
	z80Token(z80LD,"e,X"),
	z80Token(z80DB,"?"),
	z80Token(z80LD,"Ih,b"),
	z80Token(z80LD,"Ih,c"),
	z80Token(z80LD,"Ih,d"),
	z80Token(z80LD,"Ih,e"),
	z80Token(z80LD,"Ih,Ih"),
	z80Token(z80LD,"Ih,Il"),
	z80Token(z80LD,"h,X"),
	z80Token(z80LD,"Ih,a"),
	z80Token(z80LD,"Il,b"),
	z80Token(z80LD,"Il,c"),
	z80Token(z80LD,"Il,d"),
	z80Token(z80LD,"Il,e"),
	z80Token(z80LD,"Il,Ih"),
	z80Token(z80LD,"Il,Il"),
	z80Token(z80LD,"l,X"),
	z80Token(z80LD,"Il,a"),
	z80Token(z80LD,"X,b"),
	z80Token(z80LD,"X,c"),
	z80Token(z80LD,"X,d"),
	z80Token(z80LD,"X,e"),
	z80Token(z80LD,"X,h"),
	z80Token(z80LD,"X,l"),
	z80Token(z80DB,"?"),
	z80Token(z80LD,"X,a"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80LD,"a,Ih"),
	z80Token(z80LD,"a,Il"),
	z80Token(z80LD,"a,X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80ADD,"a,Ih"),
	z80Token(z80ADD,"a,Il"),
	z80Token(z80ADD,"a,X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80ADC,"a,Ih"),
	z80Token(z80ADC,"a,Il"),
	z80Token(z80ADC,"a,X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80SUB,"Ih"),
	z80Token(z80SUB,"Il"),
	z80Token(z80SUB,"X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80SBC,"a,Ih"),
	z80Token(z80SBC,"a,Il"),
	z80Token(z80SBC,"a,X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80AND,"Ih"),
	z80Token(z80AND,"Il"),
	z80Token(z80AND,"X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80XOR,"Ih"),
	z80Token(z80XOR,"Il"),
	z80Token(z80XOR,"X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80OR,"Ih"),
	z80Token(z80OR,"Il"),
	z80Token(z80OR,"X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80CP,"Ih"),
	z80Token(z80CP,"Il"),
	z80Token(z80CP,"X"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"cb"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80POP,"I"),
	z80Token(z80DB,"?"),
	z80Token(z80EX,"(sp),I"),
	z80Token(z80DB,"?"),
	z80Token(z80PUSH,"I"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80JP,"(I)"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80LD,"sp,I"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?"),
	z80Token(z80DB,"?")
    });
    return lookup.value(op);
}

z80Token z80Token::mnemonic_main(uchar op)
{
    static const QVector<z80Token> lookup({
	z80Token(z80NOP,NULL),
	z80Token(z80LD,"bc,N"),
	z80Token(z80LD,"(bc),a"),
	z80Token(z80INC,"bc"),
	z80Token(z80INC,"b"),
	z80Token(z80DEC,"b"),
	z80Token(z80LD,"b,B"),
	z80Token(z80RLCA,NULL),
	z80Token(z80EX,"af,af'"),
	z80Token(z80ADD,"hl,bc"),
	z80Token(z80LD,"a,(bc)"),
	z80Token(z80DEC,"bc"),
	z80Token(z80INC,"c"),
	z80Token(z80DEC,"c"),
	z80Token(z80LD,"c,B"),
	z80Token(z80RRCA,NULL),
	z80Token(z80DJNZ,"O"),
	z80Token(z80LD,"de,N"),
	z80Token(z80LD,"(de),a"),
	z80Token(z80INC,"de"),
	z80Token(z80INC,"d"),
	z80Token(z80DEC,"d"),
	z80Token(z80LD,"d,B"),
	z80Token(z80RLA,NULL),
	z80Token(z80JR,"O",DASMFLAG_FINAL),
	z80Token(z80ADD,"hl,de"),
	z80Token(z80LD,"a,(de)"),
	z80Token(z80DEC,"de"),
	z80Token(z80INC,"e"),
	z80Token(z80DEC,"e"),
	z80Token(z80LD,"e,B"),
	z80Token(z80RRA,NULL),
	z80Token(z80JR,"nz,O"),
	z80Token(z80LD,"hl,N"),
	z80Token(z80LD,"(W),hl"),
	z80Token(z80INC,"hl"),
	z80Token(z80INC,"h"),
	z80Token(z80DEC,"h"),
	z80Token(z80LD,"h,B"),
	z80Token(z80DAA,NULL),
	z80Token(z80JR,"z,O"),
	z80Token(z80ADD,"hl,hl"),
	z80Token(z80LD,"hl,(W)"),
	z80Token(z80DEC,"hl"),
	z80Token(z80INC,"l"),
	z80Token(z80DEC,"l"),
	z80Token(z80LD,"l,B"),
	z80Token(z80CPL,NULL),
	z80Token(z80JR,"nc,O"),
	z80Token(z80LD,"sp,N"),
	z80Token(z80LD,"(W),a"),
	z80Token(z80INC,"sp"),
	z80Token(z80INC,"(hl)"),
	z80Token(z80DEC,"(hl)"),
	z80Token(z80LD,"(hl),B"),
	z80Token(z80SCF,NULL),
	z80Token(z80JR,"c,O"),
	z80Token(z80ADD,"hl,sp"),
	z80Token(z80LD,"a,(W)"),
	z80Token(z80DEC,"sp"),
	z80Token(z80INC,"a"),
	z80Token(z80DEC,"a"),
	z80Token(z80LD,"a,B"),
	z80Token(z80CCF,NULL),
	z80Token(z80LD,"b,b"),
	z80Token(z80LD,"b,c"),
	z80Token(z80LD,"b,d"),
	z80Token(z80LD,"b,e"),
	z80Token(z80LD,"b,h"),
	z80Token(z80LD,"b,l"),
	z80Token(z80LD,"b,(hl)"),
	z80Token(z80LD,"b,a"),
	z80Token(z80LD,"c,b"),
	z80Token(z80LD,"c,c"),
	z80Token(z80LD,"c,d"),
	z80Token(z80LD,"c,e"),
	z80Token(z80LD,"c,h"),
	z80Token(z80LD,"c,l"),
	z80Token(z80LD,"c,(hl)"),
	z80Token(z80LD,"c,a"),
	z80Token(z80LD,"d,b"),
	z80Token(z80LD,"d,c"),
	z80Token(z80LD,"d,d"),
	z80Token(z80LD,"d,e"),
	z80Token(z80LD,"d,h"),
	z80Token(z80LD,"d,l"),
	z80Token(z80LD,"d,(hl)"),
	z80Token(z80LD,"d,a"),
	z80Token(z80LD,"e,b"),
	z80Token(z80LD,"e,c"),
	z80Token(z80LD,"e,d"),
	z80Token(z80LD,"e,e"),
	z80Token(z80LD,"e,h"),
	z80Token(z80LD,"e,l"),
	z80Token(z80LD,"e,(hl)"),
	z80Token(z80LD,"e,a"),
	z80Token(z80LD,"h,b"),
	z80Token(z80LD,"h,c"),
	z80Token(z80LD,"h,d"),
	z80Token(z80LD,"h,e"),
	z80Token(z80LD,"h,h"),
	z80Token(z80LD,"h,l"),
	z80Token(z80LD,"h,(hl)"),
	z80Token(z80LD,"h,a"),
	z80Token(z80LD,"l,b"),
	z80Token(z80LD,"l,c"),
	z80Token(z80LD,"l,d"),
	z80Token(z80LD,"l,e"),
	z80Token(z80LD,"l,h"),
	z80Token(z80LD,"l,l"),
	z80Token(z80LD,"l,(hl)"),
	z80Token(z80LD,"l,a"),
	z80Token(z80LD,"(hl),b"),
	z80Token(z80LD,"(hl),c"),
	z80Token(z80LD,"(hl),d"),
	z80Token(z80LD,"(hl),e"),
	z80Token(z80LD,"(hl),h"),
	z80Token(z80LD,"(hl),l"),
	z80Token(z80HLT,NULL),
	z80Token(z80LD,"(hl),a"),
	z80Token(z80LD,"a,b"),
	z80Token(z80LD,"a,c"),
	z80Token(z80LD,"a,d"),
	z80Token(z80LD,"a,e"),
	z80Token(z80LD,"a,h"),
	z80Token(z80LD,"a,l"),
	z80Token(z80LD,"a,(hl)"),
	z80Token(z80LD,"a,a"),
	z80Token(z80ADD,"a,b"),
	z80Token(z80ADD,"a,c"),
	z80Token(z80ADD,"a,d"),
	z80Token(z80ADD,"a,e"),
	z80Token(z80ADD,"a,h"),
	z80Token(z80ADD,"a,l"),
	z80Token(z80ADD,"a,(hl)"),
	z80Token(z80ADD,"a,a"),
	z80Token(z80ADC,"a,b"),
	z80Token(z80ADC,"a,c"),
	z80Token(z80ADC,"a,d"),
	z80Token(z80ADC,"a,e"),
	z80Token(z80ADC,"a,h"),
	z80Token(z80ADC,"a,l"),
	z80Token(z80ADC,"a,(hl)"),
	z80Token(z80ADC,"a,a"),
	z80Token(z80SUB,"b"),
	z80Token(z80SUB,"c"),
	z80Token(z80SUB,"d"),
	z80Token(z80SUB,"e"),
	z80Token(z80SUB,"h"),
	z80Token(z80SUB,"l"),
	z80Token(z80SUB,"(hl)"),
	z80Token(z80SUB,"a"),
	z80Token(z80SBC,"a,b"),
	z80Token(z80SBC,"a,c"),
	z80Token(z80SBC,"a,d"),
	z80Token(z80SBC,"a,e"),
	z80Token(z80SBC,"a,h"),
	z80Token(z80SBC,"a,l"),
	z80Token(z80SBC,"a,(hl)"),
	z80Token(z80SBC,"a,a"),
	z80Token(z80AND,"b"),
	z80Token(z80AND,"c"),
	z80Token(z80AND,"d"),
	z80Token(z80AND,"e"),
	z80Token(z80AND,"h"),
	z80Token(z80AND,"l"),
	z80Token(z80AND,"(hl)"),
	z80Token(z80AND,"a"),
	z80Token(z80XOR,"b"),
	z80Token(z80XOR,"c"),
	z80Token(z80XOR,"d"),
	z80Token(z80XOR,"e"),
	z80Token(z80XOR,"h"),
	z80Token(z80XOR,"l"),
	z80Token(z80XOR,"(hl)"),
	z80Token(z80XOR,"a"),
	z80Token(z80OR,"b"),
	z80Token(z80OR,"c"),
	z80Token(z80OR,"d"),
	z80Token(z80OR,"e"),
	z80Token(z80OR,"h"),
	z80Token(z80OR,"l"),
	z80Token(z80OR,"(hl)"),
	z80Token(z80OR,"a"),
	z80Token(z80CP,"b"),
	z80Token(z80CP,"c"),
	z80Token(z80CP,"d"),
	z80Token(z80CP,"e"),
	z80Token(z80CP,"h"),
	z80Token(z80CP,"l"),
	z80Token(z80CP,"(hl)"),
	z80Token(z80CP,"a"),
	z80Token(z80RET,"nz"),
	z80Token(z80POP,"bc"),
	z80Token(z80JP,"nz,A"),
	z80Token(z80JP,"A",DASMFLAG_FINAL),
	z80Token(z80CALL,"nz,A"),
	z80Token(z80PUSH,"bc"),
	z80Token(z80ADD,"a,B"),
	z80Token(z80RST,"V"),
	z80Token(z80RET,"z"),
	z80Token(z80RET,NULL,DASMFLAG_FINAL),
	z80Token(z80JP,"z,A"),
	z80Token(z80DB,"cb"),
	z80Token(z80CALL,"z,A"),
	z80Token(z80CALL,"A"),
	z80Token(z80ADC,"a,B"),
	z80Token(z80RST,"V"),
	z80Token(z80RET,"nc"),
	z80Token(z80POP,"de"),
	z80Token(z80JP,"nc,A"),
	z80Token(z80OUT,"(P),a"),
	z80Token(z80CALL,"nc,A"),
	z80Token(z80PUSH,"de"),
	z80Token(z80SUB,"B"),
	z80Token(z80RST,"V"),
	z80Token(z80RET,"c"),
	z80Token(z80EXX,NULL),
	z80Token(z80JP,"c,A"),
	z80Token(z80IN,"a,(P)"),
	z80Token(z80CALL,"c,A"),
	z80Token(z80DB,"dd"),
	z80Token(z80SBC,"a,B"),
	z80Token(z80RST,"V"),
	z80Token(z80RET,"po"),
	z80Token(z80POP,"hl"),
	z80Token(z80JP,"po,A"),
	z80Token(z80EX,"(sp),hl"),
	z80Token(z80CALL,"po,A"),
	z80Token(z80PUSH,"hl"),
	z80Token(z80AND,"B"),
	z80Token(z80RST,"V"),
	z80Token(z80RET,"pe"),
	z80Token(z80JP,"(hl)"),
	z80Token(z80JP,"pe,A"),
	z80Token(z80EX,"de,hl"),
	z80Token(z80CALL,"pe,A"),
	z80Token(z80DB,"ed"),
	z80Token(z80XOR,"B"),
	z80Token(z80RST,"V"),
	z80Token(z80RET,"p"),
	z80Token(z80POP,"af"),
	z80Token(z80JP,"p,A"),
	z80Token(z80DI,NULL),
	z80Token(z80CALL,"p,A"),
	z80Token(z80PUSH,"af"),
	z80Token(z80OR,"B"),
	z80Token(z80RST,"V"),
	z80Token(z80RET,"m"),
	z80Token(z80LD,"sp,hl"),
	z80Token(z80JP,"m,A"),
	z80Token(z80EI,NULL),
	z80Token(z80CALL,"m,A"),
	z80Token(z80DB,"fd"),
	z80Token(z80CP,"B"),
	z80Token(z80RST,"V")
    });
    return lookup.value(op);
}
